---
// Core de Swiper y estilos
import "swiper/css";
// Módulo Navigation de Swiper y estilos
import "swiper/css/navigation";
import "photoswipe/style.css";
---

<section id="mobile-view-carousel" class="flex flex-col items-center p-8">
  <!-- Encabezado General de la Sección -->
  <h2 class="text-3xl font-bold text-blue-600 mb-6">Vista en Móvil</h2>

  <!-- Contenedor principal de Swiper -->
  <div class="swiper w-full max-w-5xl">
    <!-- Wrapper adicional requerido -->
    <div class="swiper-wrapper" id="my-slider">
      <!-- Los slides -->
      <a
        class="swiper-slide"
        href="/images/builds/background/anemo.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Anemo
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/anemo.png"
              alt="Anemo"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/cryo.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Cryo
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/cryo.png"
              alt="Anemo"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/dendro.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Dendro
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/dendro.png"
              alt="Anemo"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/electro.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Electro
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/electro.png"
              alt="Cryo"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/geo.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Geo
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/geo.png"
              alt="Dendro"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/hydro.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Hydro
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/hydro.png"
              alt="Dendro"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
      <a
        class="swiper-slide"
        href="/images/builds/background/pyro.png"
        data-pswp-width="800"
        data-pswp-height="800"
        target="_blank"
        data-cropped="true"
      >
        <div class="bg-white p-4 rounded-lg shadow-md w-[300px] mx-auto">
          <div class="text-black text-center py-2 w-full mb-4 font-bold">
            Pyro
          </div>
          <div
            class="border-4 border-black rounded-t-[25px] rounded-b-[25px] bg-black overflow-hidden h-[500px]"
          >
            <img
              src="/images/builds/background/pyro.png"
              alt="Dendro"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </a>
    </div>
    <!-- Botones de navegación -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</section>

<script>
  // Configurar Swiper
  import Swiper from "swiper";
  import { Navigation } from "swiper/modules";

  const swiper = new Swiper(".swiper", {
    modules: [Navigation],
    loop: true,
    slidesPerView: 2,
    spaceBetween: 15,
    navigation: {
      // definir botones next y prev para el módulo Navigation
      prevEl: ".swiper-button-prev",
      nextEl: ".swiper-button-next",
    },
  });

  // Configurar e inicializar Photoswipe
  import PhotoSwipeLightbox from "photoswipe/lightbox";
  const lightbox = new PhotoSwipeLightbox({
    gallery: "#my-slider",
    children: "a",
    pswpModule: () => import("photoswipe"),
  });
  lightbox.init();
</script>

<style>
  .swiper-slide {
    display: flex;
    justify-content: center;
  }
  .swiper-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  @media (max-width: 768px) {
    .swiper-slide {
      width: 70%;
    }
    .swiper-button-prev,
    .swiper-button-next {
      display: none;
    }
  }
  .swiper-button-next,
  .swiper-button-prev {
    background-color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid black;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
  }
  .swiper-button-next {
    right: 10px;
    background-image: url("/svgs/arrow-next.svg");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 50% auto;
  }
  .swiper-button-prev {
    left: 10px;
    background-image: url("/svgs/arrow-next.svg");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 50% auto;
    transform: rotate(180deg) translateY(50%);
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    content: "";
  }
</style>
